# Muxi_ClassList(课表服务)

## 一、如何运行？

### 1、配置信息

将`configs/config-example.yaml`换成`configs/config.yaml`,并填充配置文件
### 2、构建镜像
在`DockerFile`所在目录下使用命令`docker build -t muxi_classlist:v1 .`构建镜像

>构建镜像，是需要拉取golang:1.22和debian:stable-slim这两个镜像的，当然，如果你是在自己机子上跑，挂个梯子就可以拉取这两个镜像了，但是如果你是在云服务器上拉取的话，很有可能拉取不了（被墙），这是你可以尝试过构建自己的阿里云镜像仓库，然后现在自己的机子上拉取那两个镜像，然后改下tag，上传至自己的阿里云的镜像仓库，然后你的服务器就可以从你自己的阿里云镜像仓库中拉取这两个镜像了
>
>参考教程如下:
>
>[如何构建自己的阿里云镜像仓库](https://blog.csdn.net/qq_26709459/article/details/128726699)


### 3、运行
在`deploy`下执行`docker-compose up -d`即可



## 二、错误码

| 错误码 | 含义                         |
|-----| ---------------------------- |
| 450 | 成功/课程信息未找到          |
| 451 | 数据库查找课程失败           |
| 452 | 课程更新失败                 |
| 453 | 入参错误                     |
| 454 | 课程保存失败                 |
| 455 | 课程删除失败                 |
| 456 | 爬取课表失败                 |
| 457 | 请求ccnu一站式登录服务错误   |
| 458 | 学号与课程ID的对应关系未找到 |
| 459 |回收站中不存在该课程|
| 460 |恢复课程失败|
|461|通过jxb_id获取stu_ids获取失败|
|462|已有该课程|
## 三、API文档

将文件中`openapi.yaml`导入到`apifox`中即可